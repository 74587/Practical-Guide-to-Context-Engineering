# Anthropic é»‘å®¢é©¬æ‹‰æ¾å† å†›- ClaudeCodeé…ç½®æ•´ç†å’Œè¡¥å……

## å‰è¨€
åˆ†æå‚è€ƒæ¥æºï¼š
- é»‘å®¢é©¬æ‹‰æ¾å† å†› Claude Code é…ç½®åˆé›†ï¼šhttps://github.com/affaan-m/everything-claude-code
- Anthropicå®˜æ–¹Skillé…ç½®è¯´æ˜ï¼šhttps://github.com/anthropics/skills
- ClaudeCodeé…ç½®æ–‡ä»¶ï¼šhttps://code.claude.com/docs/en/sub-agents

## ä¸€ã€è·¨ä¼šè¯å…±äº«å†…å­˜
æ–‡ä»¶é“¾æ¥ï¼šhttps://my.feishu.cn/file/JBMBbeZXVofxEyx5sS3caNopntg

![è·¨ä¼šè¯å…±äº«å†…å­˜](./image/image%20(64).png)

åœ¨ä½¿ç”¨ ClaudeCode çš„è¿‡ç¨‹ä¸­ï¼Œä¼šè¯è®°å½•è™½ç„¶å¯ä»¥è¢«ä¿å­˜åˆ°æœ¬åœ°æ–‡ä»¶ä¸­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ resume æŒ‡ä»¤ç»§ç»­ä¸Šä¸€æ¬¡å¯¹è¯ï¼Œä½†æ˜¯å®Œæ•´ä¼šè¯è®°å½•ä¼šè¢«å‹ç¼©ï¼Œå¦‚æœç»è¿‡å¤šæ¬¡å‹ç¼©ï¼Œå…³é”®çš„å†³ç­–ä¿¡æ¯ä¼šè¢«ä¸æ–­çš„ç¨€é‡Šï¼Œç›´åˆ°å®Œå…¨å¿˜è®°ï¼Œé‚£ä¹ˆæˆ‘ç†è§£çš„å…³é”®ä¿¡æ¯å°±æ˜¯å¦‚ä¸‹å››ç‚¹ï¼š

1. **å“ªäº›æ–¹æ³•æ˜¯æœ‰æ•ˆçš„ï¼ˆæœ‰è¯æ®å¯ä»¥éªŒè¯ï¼‰**
2. **å“ªäº›å°è¯•è¿‡çš„æ–¹æ³•æ˜¯æ— æ•ˆçš„**
3. **å“ªäº›æ–¹æ³•å°šæœªå°è¯•**
4. **å“ªäº›æœªå®Œæˆçš„å·¥ä½œ**


ğŸªæ‰€ä»¥ä¸ºäº†ä¿è¯ä¸Šé¢å››ç‚¹å…³é”®çš„ä¿¡æ¯èƒ½å¤Ÿåœ¨å¤šä¸ªä¼šè¯å…±äº«ï¼Œå°±éœ€è¦æœ‰ä¸€ä¸ª**å•ç‹¬çš„ä¸­é—´æ€çš„ä¸´æ—¶ä¼šè¯æ–‡ä»¶**

è¿™ä¸ªæ—¶å€™æ˜¯éœ€è¦å®Œæ•´çš„**æ–‡ä»¶åˆ›å»ºå’Œä¿å­˜çš„è‡ªåŠ¨åŒ–æµç¨‹ï¼Œè¿˜æœ‰å¡«å……å†…å®¹çš„æŒ‡ä»¤**ï¼Œå¯ä»¥é‡‡ç”¨ä¸‰ç§ hook æ¥è§£å†³è¿™ä¸ªæ–‡ä»¶çš„åˆ›å»ºã€åŠ è½½ã€ä¿å­˜çš„é—®é¢˜ï¼Œ

1. é¢„å‹ç¼©é’©å­ï¼ˆ**PreCompact Hookï¼‰**ï¼šåœ¨ä¸Šä¸‹æ–‡å‹ç¼©å‘ç”Ÿä¹‹å‰ï¼Œå°†é‡è¦çŠ¶æ€ä¿å­˜è‡³æ–‡ä»¶
2. ä¼šè¯å®Œæˆé’©å­ï¼ˆ**SessionComplete Hookï¼‰**ï¼šä¼šè¯ç»“æŸæ—¶ï¼Œå°†å­¦ä¹ æˆæœæŒä¹…åŒ–è‡³æ–‡ä»¶æˆ–åˆå§‹åŒ–æ–‡ä»¶
3. ä¼šè¯å¼€å§‹é’©å­ï¼ˆ**SessionStart Hookï¼‰**ï¼šæ–°ä¼šè¯å¯åŠ¨æ—¶ï¼Œè‡ªåŠ¨åŠ è½½å…ˆå‰ä¸Šä¸‹æ–‡ï¼Œå¹¶è¾“å‡ºæœ€æ–°æ–‡ä»¶çš„è·¯å¾„


é‚£ä¹ˆè¿™ä¸ªä¸´æ—¶æ–‡ä»¶ï¼ˆä¼šè¯è®°å½•æ–‡ä»¶ï¼‰æˆ‘ä»¬è¦å¡«å……ä»€ä¹ˆå†…å®¹è¿›å»ï¼Ÿï¼Œæ€ä¹ˆå¡«å……ï¼Ÿ

- å¡«å……çš„å†…å®¹ï¼šå¯ä»¥æ ¹æ®ä¸Šé¢å››ç‚¹ä¿¡æ¯æ–¹å‘æ¥è®© Claude æ€»ç»“ä¼šè¯å†å²ã€ä½ ä¹Ÿå¯ä»¥æ‰‹åŠ¨ç¼–å†™è¯¥æ–‡ä»¶ï¼Œæ•´ç†å†™å…¥ä½ è®¤ä¸ºé‡è¦çš„ä¼šè¯å…³é”®ä¿¡æ¯
- å¡«å……çš„æ–¹å¼ï¼šä½ å¯ä»¥åœ¨èŠå¤©ä¼šè¯ä¸­ä¸»åŠ¨æåŠï¼Œä¹Ÿå¯ä»¥åˆ›å»ºç›¸åº”çš„ Skill å’Œ Command æ¥ä½¿ç”¨


ğŸŒ´ è¿™ä¸ªæ¨¡å¼ä¸‹ä½¿ç”¨åˆ°çš„æ–‡ä»¶ hook ä¸ºï¼š

+ scripts/hooks/session-start.jsï¼šä¼šè¯å¼€å§‹é’©å­
+ scripts/hooks/pre-compact.jsï¼šä¼šè¯å‹ç¼©é’©å­
+ scripts/hooks/session-end.jsï¼šä¼šè¯å®Œæˆé’©å­

## äºŒã€æŒç»­å­¦ä¹ å¹¶æ›´æ–°è®°å¿†
æ–‡ä»¶é“¾æ¥ï¼šhttps://my.feishu.cn/file/POoGb5SQtov2uex2hvocXAEjn0d
![æŒç»­å­¦ä¹ æµç¨‹](./image/image%20(65).png)

å…³äºæŒç»­å­¦ä¹ å¹¶æ›´æ–°è®°å¿†çš„è§¦å‘æ–¹å¼æœ‰ä¸¤ç§ï¼š**ä¸€ç§æ˜¯ Hook çš„æŒ‚è½½è„šæœ¬è‡ªåŠ¨æ‰§è¡Œçš„æ–¹å¼ã€å¦å¤–ä¸€ç§æ˜¯ Command å‘½ä»¤æ‰‹åŠ¨æ‰§è¡Œçš„æ–¹å¼**


ğŸ§©å…³äº Hook çš„æŒ‚è½½è„šæœ¬è‡ªåŠ¨æ‰§è¡Œçš„æ–¹å¼ï¼Œè¯¥æ–¹å¼ä½¿ç”¨äº†ä¸‰ç§ä¸åŒæ—¶æœºçš„ Hook æ¥è§¦å‘

1. **Stop** çš„ Hook çš„å…·ä½“é€»è¾‘ï¼š
    1. ç®€å•çš„å¯¹äºä¼šè¯åˆ—è¡¨çš„é•¿åº¦è¿›è¡Œåˆ¤æ–­
    2. å¦‚æœé•¿åº¦è¾¾æ ‡ã€é‚£ä¹ˆè¾“å‡ºæç¤ºè¯ä¿¡æ¯ç»™ç”¨æˆ·çœ‹
2. **Sessionend** çš„ Hook çš„å…·ä½“é€»è¾‘ï¼š
    1. è¯»å–å®Œæ•´çš„ä¼šè¯å†å²è®°å½•
    2. é€šè¿‡claude -p "xxx"ï¼Œæ¥è°ƒç”¨claudeç”Ÿæˆå­¦ä¹ è®°å½•
3. **PostToolUse** çš„ Hook çš„å…·ä½“é€»è¾‘ï¼š
    1. ç®€å•çš„è¿›è¡Œä¼šè¯åˆ—è¡¨çš„é•¿åº¦åˆ¤æ–­
    2. å°†â€œæ€»ç»“å­¦ä¹ è®°å½•çš„æŒ‡ä»¤â€æ”¾å…¥åˆ°å·¥å…·è¿”å›ç»“æœï¼Œä»¥æ­¤è¾“å…¥ç»™Claudeè§¦å‘åˆ¤æ–­


ğŸ§©å…³äº Cmmand å‘½ä»¤æ‰‹åŠ¨æ‰§è¡Œçš„æ–¹å¼ã€è¯¥æ–¹å¼è®¾è®¡äº†/learn æŒ‡ä»¤æ¥æ‰§è¡Œ

å½“ç”¨æˆ·åœ¨ä¼šè¯ä¸­å®Œæˆä»»åŠ¡çš„æ—¶å€™ï¼Œå‘ç°æœ‰ä¸€äº›è®¾è®¡æ–¹æ¡ˆéå¸¸å€¼å¾—ä¿å­˜åˆ°è®°å¿†ä¸­ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥è§¦å‘/learn æŒ‡ä»¤


**æ‰€æœ‰æ€»ç»“ä¸‹æ¥çš„å­¦ä¹ è®°å½•éƒ½å­˜æ”¾åœ¨/skill/learn æ–‡ä»¶å¤¹ä¸­ï¼Œè¿™æ ·æˆ–è®¸ Agent å¯ä»¥è‡ªåŠ¨æ ¹æ®å…·ä½“æƒ…å†µä½¿ç”¨ Skill çš„å­¦ä¹ è®°å½•çš„æŠ€èƒ½**


ğŸŒ´ æ¨¡å¼ä¸‹ä½¿ç”¨åˆ°çš„æ–‡ä»¶ Command å’Œ Skill ä¸ºï¼š

+ commands/learn.md
+ skills/continuous-learning


ğŸ‘‰ å°æ‹“å±•ï¼š
å…³äºä¼šè¯è®°å½•æ–‡ä»¶(Session Tmp)å’Œå­¦ä¹ è®°å½•æ–‡ä»¶(Learn Skill)çš„åŒºåˆ«
+ å­¦ä¹ è®°å½•æ–‡ä»¶ï¼ˆLearn Skillï¼‰ï¼šå…¨å±€çš„ã€æ°¸ä¹…çš„ã€æŠ½è±¡çš„çŸ¥è¯†è§„åˆ™ï¼Œ**ç›®çš„æ˜¯é¿å…é‡å¤çŠ¯é”™ï¼Œç§¯ç´¯ç»éªŒ**
+ ä¼šè¯è®°å½•æ–‡ä»¶ï¼ˆSession Tmpï¼‰ï¼šå±€éƒ¨çš„ã€ä¸´æ—¶çš„ã€å…·ä½“çš„å·¥ä½œçŠ¶æ€ï¼Œ**ç›®çš„æ˜¯ç”¨äºè·¨ä¼šè¯çš„è¿ç»­æ€§**

æ–‡ä»¶æ‰€åœ¨çš„ä½ç½®ä¹Ÿä¸åŒï¼š
 + å­¦ä¹ è®°å½•æ–‡ä»¶ï¼ˆLearn Skillï¼‰ï¼š/.claude/skills/learned/jsonwebtoken-v9-migration.md
 + ä¼šè¯è®°å½•æ–‡ä»¶ï¼ˆSession Tmpï¼‰ï¼š/.claude/sessions/2026-01-20-auth-feature.tmp
 ****
 å­¦ä¹ è®°å½•æ–‡ä»¶çš„ä¾‹å­ï¼š
+ å·¥å…·çš„æè¿°è¦è¯´æ˜"ä½•æ—¶ä½¿ç”¨"è€Œä¸åªæ˜¯"åšä»€ä¹ˆ"
+ å·¥å…·å‚æ•°çš„è®¾è®¡ä¸­å¿…å¡«å‚æ•°å°½é‡å°‘ï¼Œå¯é€‰å‚æ•°æä¾›é»˜è®¤å€¼
+ ä»¶è·¯å¾„å‚æ•°è¦è¯´æ˜æ˜¯ç›¸å¯¹è·¯å¾„è¿˜æ˜¯ç»å¯¹è·¯å¾„

ä¼šè¯è®°å½•æ–‡ä»¶çš„ä¾‹å­ï¼š
+ åˆ›å»ºäº† `database_query` å·¥å…·çš„åŸºç¡€å®šä¹‰
+ åœ¨å·¥å…·æè¿°ä¸­æ˜ç¡®è¯´æ˜"ä¼˜å…ˆä½¿ç”¨ simple_queryï¼Œåªæœ‰å¿…è¦æ—¶æ‰ç”¨ complex_query"


## äºŒã€æé«˜é¡¹ç›®å¯ç»´æŠ¤æ€§ - æ£€æµ‹è¯„ä¼°+å†—ä½™ä»£ç æ¸…ç†
### 3.1ã€åŸºäºæ£€æŸ¥ç‚¹çš„è¯„ä¼°

![æ£€æŸ¥ç‚¹è¯„ä¼°](./image/image%20(66).png)

ä½¿ç”¨åŸºäºæ£€æŸ¥ç‚¹è¯„ä¼°çš„æ–¹å¼ï¼Œæµç¨‹å°±æ˜¯ï¼š**å¼€å§‹ -> å®ç° -> éªŒè¯**è¿™ä¸‰æ­¥å¾ªç¯ï¼Œæ¯ä¸€ä¸ªåŠŸèƒ½éƒ½ç”±è¿™ä¸‰æ­¥æ¥çº¦æŸ

1. **å¼€å§‹**ï¼šåœ¨åŠŸèƒ½å®ç°ä¹‹å‰ï¼Œå…ˆè¿è¡Œä¸€ä¸‹å¼€å§‹æ­¥éª¤çš„æŒ‡ä»¤ï¼Œè¿™æ ·å¯ä»¥ä¿è¯ä»£ç åº“çš„å·¥ä½œç©ºé—´æ˜¯å¹²å‡€çš„
2. **å®ç°**ï¼šè¿™ä¸ªæ—¶å€™å°±å¯ä»¥å¼€å§‹ç¼–å†™åŠŸèƒ½ä»£ç äº†ï¼Œä½ è‡ªå·±ç¼–å†™æˆ–ä½¿ç”¨ AI ç¼–å†™éƒ½å¯ä»¥
3. **éªŒè¯**ï¼šåœ¨è¿™ä¸ªåŠŸèƒ½å®Œæˆçš„å·®ä¸å¤šäº†ï¼Œæˆ–è€…å·²ç»ç¼–å†™ä¸€æ®µæ—¶é—´çš„ä»£ç å•¦ï¼Œå¯ä»¥è¿è¡ŒéªŒè¯æŒ‡ä»¤ï¼Œè¿›è¡Œç®€å•çš„ä»£ç è¯„ä¼°ï¼Œè¯„ä¼°éªŒè¯ä½ è¿™æ®µæ—¶é—´å†™çš„ä»£ç å¦‚ä½•ï¼Œæ˜¯å¦åˆæ ¼ï¼Œæ˜¯å¦ç¬¦åˆè¦æ±‚è§„èŒƒ


ğŸ§© é‚£ä¹ˆæˆ‘ä»¬æ¥ç»†ç»†çš„è¯´ä¸€ä¸‹å¼€å§‹æŒ‡ä»¤( /checkpoints create )

1. æ‰§è¡Œ/verify quick çš„æŒ‡ä»¤ï¼Œåªæ£€æŸ¥æ„å»ºå’Œç±»å‹çš„é”™è¯¯ï¼Œè¿™æ ·æ‰§è¡Œèµ·æ¥å¿«
2. æ‰§è¡Œ git stash æˆ– commit ï¼Œä¿å­˜å½“å‰çš„ä»£ç çŠ¶æ€ï¼Œè®©åŠŸèƒ½å¼€å§‹ä¹‹å‰å·¥ä½œç©ºé—´æ˜¯å¹²å‡€çš„
3. æ‰§è¡Œ`git rev-parse --short HEAD` æŠŠ SHA å†™å…¥åˆ°æ—¥å¿—æ–‡ä»¶`checkpoints.log`ä¸­


ğŸ§© æ¥ä¸‹æ¥æˆ‘ä»¬æ¥è¯´ä¸€ä¸‹éªŒè¯æŒ‡ä»¤( /checkpoint verify )

1. å…ˆä» checkpoints.log ä¸­å»é™¤æœ€è¿‘çš„ SHA
2. å¤§æ¨¡å‹è‡ªå·±æ ¹æ®**å…·ä½“æƒ…å†µè°ƒç”¨ git diff å’Œè¿è¡Œä»£ç ç›¸å…³æµ‹è¯•çš„å‘½ä»¤**
3. æ ¹æ®â€œ**å…³é”®æŒ‡æ ‡**â€çš„è¦æ±‚è¾“å‡ºæŠ¥å‘Šï¼ŒæŠ¥å‘Šä¸­è¦æœ‰ï¼šæ–°å¢æ–‡ä»¶ã€ä¿®æ”¹æ–‡ä»¶ã€æµ‹è¯•é€šè¿‡ç‡ã€è¦†ç›–ç‡ç­‰

è¿™ç§æ–¹å¼çœŸçš„éå¸¸å¥½ï¼Œéå¸¸ä¼˜é›…ï¼Œ**å› ä¸ºæ‰€æœ‰çš„æµç¨‹ä¸æ˜¯å¼ºåˆ¶è‡ªåŠ¨åŒ–çš„ï¼Œåªæ˜¯æä¾›äº†æœ€å°çš„å¿…è¦æ¡ä»¶**â€œSHAâ€ã€‚
è‡³äºå¦‚ä½•è·å–æ–°å¢å’Œä¿®æ”¹æ–‡ä»¶ï¼Œæµ‹è¯•å’Œè¦†ç›–ç‡è¿™äº›æŒ‡æ ‡ï¼Œéƒ½æ˜¯ç”±æ¨¡å‹è‡ªå·±æ¥å†³å®šçš„ï¼Œæœ€å¤§ç¨‹åº¦ä¸Šä¿è¯äº†æ¨¡å‹è‡ªä¸»æ€§ï¼Œç›®å‰æ¨¡å‹èƒ½åŠ›å·²ç»å¾ˆå‰å®³äº†ï¼Œä¿æŒæ¨¡å‹çš„è‡ªä¸»æ€§ï¼Œæˆ‘ä»¬æœªæ¥å¯ä»¥ç”¨æœ€å°çš„æ”¹åŠ¨ä»£ä»·æ¢æ¥æœ€å¤§çš„èƒ½åŠ›æå‡


ğŸŒ´ è¯¥æ¨¡å¼ä¸‹ä½¿ç”¨åˆ°çš„æ–‡ä»¶ Command å’Œ Skill ä¸ºï¼š

+ commands/checkpoint.md
+ commands/verify.md

### 3.2ã€æŒç»­è¯„ä¼°

![æŒç»­è¯„ä¼°](./image/image%20(67).png)


åœ¨æŒç»­è¯„ä¼°çš„æ¨¡å¼ä¸‹ï¼Œå…·ä½“çš„æµç¨‹ä¸ºï¼š

1. **è§¦å‘ç‚¹**ï¼šæ¯ N åˆ†é’Ÿæˆ–é‡å¤§å˜æ›´åè¿è¡Œ
2. **è¿è¡Œç‚¹**ï¼šè¿è¡Œå®Œæ•´çš„æµ‹è¯•å¥—ä»¶ã€æ„å»ºçŠ¶æ€ã€ä»£ç æ£€æŸ¥ç­‰ï¼Œä½¿ç”¨ Skill æˆ– Command
3. **è¿è¡Œç»“æœ**ï¼šè¾“å‡ºå®Œæ•´è¯¦ç»†çš„æ£€æµ‹æŠ¥å‘Š
4. **åˆ¤æ–­ç»“æŸç‚¹**ï¼šæ ¹æ®è¾“å‡ºçš„æŠ¥å‘Šåˆ¤æ–­å½“å‰çš„ä»£ç æ˜¯å¦åˆæ ¼ï¼Œå¦‚æœåˆæ ¼å°±ç»“æŸï¼Œä¸åˆæ ¼çš„è¯å°±è¦è¿›è¡Œä¿®å¤
5. **ä¿®å¤ç‚¹**ï¼šå¯¹äºæŠ¥å‘Šä¸­ä¸åˆæ ¼çš„æ£€æµ‹ç‚¹è¿›è¡Œä¿®å¤ï¼ŒæˆåŠŸä¿®å¤ä¹‹åç»“æŸ


ğŸŒ´ è¯¥æ¨¡å¼ä¸‹ä½¿ç”¨åˆ°çš„æ–‡ä»¶ Command å’Œ Skill ä¸ºï¼š

+ skills/verification-loop
+ commands/verify.md


ä¸¤ç§æ£€æµ‹è¯„ä¼°æ–¹å¼çš„åŒºåˆ«ï¼š

1. åŸºäºæ£€æŸ¥ç‚¹è¯„ä¼°çš„æ–¹å¼ï¼šé€‚åˆç”¨äºå…·æœ‰æ˜ç¡®é‡Œç¨‹ç¢‘çš„çº¿æ€§å·¥ä½œæµç¨‹
2. æŒä¹…è¯„ä¼°çš„æ–¹å¼ï¼šé€‚åˆé•¿æ—¶é—´è¿è¡Œçš„ä¼šè¯

ğŸŒŸ **æ‰€ä»¥å†³å®šå› ç´ æ˜¯ä»»åŠ¡çš„æ€§è´¨ï¼ŒåŸºäºæ£€æŸ¥ç‚¹è¯„ä¼°æ–¹å¼é€‚ç”¨äºå…·æœ‰æ˜ç¡®é˜¶æ®µçš„ç‰¹æ€§å®ç°ï¼ŒæŒç»­æ€§çš„è¯„ä¼°æ–¹å¼é€‚ç”¨äºæ¢ç´¢æ€§é‡æ„æˆ–ç»´æŠ¤ï¼Œè¿™ç±»å·¥ä½œæ˜¯æ²¡æœ‰æ˜ç¡®çš„é‡Œç¨‹ç¢‘å’Œç»“æŸç‚¹çš„**

### 3.3ã€æ¸…ç†å†—ä½™ä»£ç 
æ¸…ç†å†—ä½™ä»£ç çš„åŠŸèƒ½æ˜¯ä½¿ç”¨ä¸€ä¸ªå­ Agent å’Œä¸€ä¸ª Commandï¼Œ**åŒºåˆ«çš„è¯å°±æ˜¯ Agent æ›´åŠ è¯¦ç»†å®Œæ•´ä¸€äº›ï¼ŒCommand æŒ‡ä»¤è½»ä¾¿ä¸€ç‚¹ï¼Œç›´æ¥ä¸€ç‚¹**ï¼š

1. Command æŒ‡ä»¤ï¼š commands/refactor-clean.md
2. å­ Agent çš„è®¾è®¡ï¼š agents/refactor-cleaner.md


ç›®å‰ Command æŒ‡ä»¤æ›´åŠ æ¸…æ™°ç›´æ¥ä¸€äº›ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥å°±åˆ†ææ•´ç†ä¸€ä¸‹è¿™ä¸ªå‘½ä»¤ä¹¦å†™çš„æµç¨‹å§

```plain
# é‡æ„æ¸…ç†

é€šè¿‡æµ‹è¯•éªŒè¯ï¼Œå®‰å…¨è¯†åˆ«å¹¶ç§»é™¤æ­»ä»£ç ï¼š

1. è¿è¡Œæ­»ä»£ç åˆ†æå·¥å…·ï¼š
    - knipï¼šæŸ¥æ‰¾æœªä½¿ç”¨çš„å¯¼å‡ºä¸æ–‡ä»¶
    - depcheckï¼šæŸ¥æ‰¾æœªä½¿ç”¨ä¾èµ–
    - ts-pruneï¼šæŸ¥æ‰¾æœªä½¿ç”¨çš„ TypeScript å¯¼å‡º
2. åœ¨ .reports/dead-code-analysis.md ä¸­ç”Ÿæˆå®Œæ•´æŠ¥å‘Š
3. æŒ‰ä¸¥é‡ç¨‹åº¦åˆ†ç±»å‘ç°ç»“æœï¼š
    - SAFEï¼šæµ‹è¯•æ–‡ä»¶ã€æœªä½¿ç”¨çš„å·¥å…·
    - CAUTIONï¼šAPI è·¯ç”±ã€ç»„ä»¶
    - DANGERï¼šé…ç½®æ–‡ä»¶ã€ä¸»å…¥å£
4. åªå»ºè®®å®‰å…¨åˆ é™¤é¡¹
5. æ¯æ¬¡åˆ é™¤å‰ï¼š
    - è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶
    - ç¡®è®¤æµ‹è¯•é€šè¿‡
    - åº”ç”¨å˜æ›´
    - å†æ¬¡è¿è¡Œæµ‹è¯•
    - å¦‚å¤±è´¥åˆ™å›æ»š
6. å±•ç¤ºå·²æ¸…ç†é¡¹ç›®çš„æ±‡æ€»

åœ¨è¿è¡Œæµ‹è¯•ä¹‹å‰ï¼Œç»ä¸åˆ é™¤ä»£ç ï¼
```

1. å…ˆä½¿ç”¨å·¥å…·æ‰¾å‡ºå†—ä½™ä»£ç ï¼š`knip`ã€`depcheck`ã€`ts-prune` è¿™ä¸‰ç§å·¥å…·
2. æŠŠç»“æœå†™å…¥åˆ°æ–‡ä»¶ä¸­ï¼ŒåŒæ—¶å¯¹ç»“æœè¿›è¡Œé£é™©åˆ†ç±»
3. æŒ‰ç…§â€œå®Œå…¨æµç¨‹â€è¿›è¡Œåˆ é™¤å†—ä½™å¸¦ä½ ï¼šå®‰å…¨æµç¨‹æ˜¯åœ¨åˆ é™¤ä»£ç çš„å‰åéƒ½è¦è¿è¡Œæµ‹è¯•ï¼Œä¹Ÿå°±æ˜¯(æµ‹è¯• - åˆ é™¤ - æµ‹è¯•ï¼‰


### 3.4ã€ä»£ç åœ°å›¾ - å¯ä¿¡çš„ä¸Šä¸‹æ–‡
![codeMap](./image/image%20(68).png)

æœ‰ä»£ç åœ°å›¾çš„å­˜åœ¨ï¼Œå…¶å°±å¯ä»¥ä½œä¸º AI æˆ–è€…å¼€å‘è€…äº†è§£ä»£ç åº“çš„å…¥å£ï¼ŒAI å¯ä»¥é€šè¿‡ä»£ç åœ°å›¾ï¼Œä½¿ç”¨è¾ƒå°‘çš„ Token å°±å¯ä»¥äº†è§£é¡¹ç›®çš„å…¨å±€é¢è²Œã€‚

ä»£ç åœ°å›¾é‡Œé¢çš„æ–‡æ¡£ä¸è¦å¤šï¼Œå°½é‡ä¿æŒç²¾ç®€ã€‚


ğŸŒ´ è¯¥æ¨¡å¼ä¸‹ä½¿ç”¨åˆ°çš„æ–‡ä»¶ Command å’Œ Skill ä¸ºï¼š

+ agents/doc-updater.md
+ commands/update-codemaps.md
+ commands/update-docs.md

### 3.5ã€ä¸€ç‚¹æ€»ç»“
é‚£æˆ‘ä»¬æ€»ç»“ä¸€ä¸‹å§ï¼Œå…³äºæé«˜é¡¹ç›®å¯ç»´æŠ¤æ€§çš„å››ç§æ–¹å¼ï¼š

+ åœ¨é€‚å½“å¹²é¢„ä¸‹ï¼Œä¸¤**ç§éªŒè¯æ–¹æ³•ï¼ˆåŸºäºæ£€æŸ¥ç‚¹è¯„ä¼°å’ŒæŒç»­è¯„ä¼°ï¼‰è¶³ä»¥é¿å…å¤§éƒ¨åˆ†æŠ€æœ¯å€ºåŠ¡**ã€‚è®© Claude å®Œæˆä»»åŠ¡åé€šè¿‡è¿è¡ŒæŠ€èƒ½å’Œ PostToolUse é’©å­è¿›è¡ŒéªŒè¯ï¼Œæœ‰åŠ©äºå®ç°è¿™ä¸€ç‚¹ã€‚
+ **æŒç»­æ›´æ–°ä»£ç åœ°å›¾ä¹Ÿæœ‰å¸®åŠ©ï¼Œå› ä¸ºå®ƒè®°å½•äº†å˜æ›´æ—¥å¿—ä»¥åŠä»£ç åœ°å›¾éšæ—¶é—´çš„æ¼”å˜è¿‡ç¨‹**ï¼Œè¿™æä¾›äº†é™¤ä»£ç ä»“åº“æœ¬èº«ä¹‹å¤–çš„å¯é ä¿¡æ¯æ¥æºã€‚
+ **é€šè¿‡ä¸¥æ ¼çš„è§„åˆ™ï¼ŒClaude å°†é¿å…åˆ›å»ºæ‚ä¹±çš„éšæœº.md æ–‡ä»¶ï¼Œé¿å…ä¸ºç›¸ä¼¼ä»£ç ç”Ÿæˆé‡å¤æ–‡ä»¶**ï¼Œä¹Ÿä¸ä¼šç•™ä¸‹å¤§é‡åºŸå¼ƒä»£ç ã€‚å¯ä»¥è€ƒè™‘rulesçš„æ–¹å¼ï¼Œå…¨å±€çš„åˆ›å»ºæ–‡æ¡£çš„è§„åˆ™


## ä¸‰ã€å­æ™ºèƒ½ä½“çš„ä½¿ç”¨æ–¹å¼ï¼šå¾ªç¯éªŒè¯è°ƒç”¨+ç¼–æ’
ä½¿ç”¨å­æ™ºèƒ½ä½“çš„æ–¹å¼ä¼šå¯¼è‡´æ•´ä¸ªä¼šè¯çš„ä¸Šä¸‹æ–‡äº§ç”Ÿâ€œä¸­æ–­â€

å­ä»£ç†çš„å­˜åœ¨æ˜¯ä¸ºäº†é€šè¿‡è¿”å›æ‘˜è¦è€Œéå…¨éƒ¨ä¿¡æ¯æ¥èŠ‚çœä¸Šä¸‹æ–‡ã€‚ç„¶è€Œï¼Œç¼–æ’å™¨æ‹¥æœ‰å­ä»£ç†æ‰€ç¼ºä¹çš„è¯­ä¹‰ä¸Šä¸‹æ–‡ã€‚å­ä»£ç†åªçŸ¥é“å­—é¢æŸ¥è¯¢ï¼Œä¸äº†è§£è¯·æ±‚èƒŒåçš„ç›®çš„æˆ–æ¨ç†è¿‡ç¨‹ã€‚æ‘˜è¦å¸¸å¸¸é—æ¼å…³é”®ç»†èŠ‚

> æ¥è‡ª@ PerceptualPeak çš„ç±»æ¯”ï¼šâ€œä½ çš„è€æ¿æ´¾ä½ å»å¼€ä¼šå¹¶è¦æ±‚ä½ æä¾›æ‘˜è¦ã€‚ä½ å›æ¥åå‘ä»–æ±‡æŠ¥äº†æƒ…å†µã€‚åæœ‰å…«ä¹ï¼Œä»–ä¼šæœ‰åç»­é—®é¢˜ã€‚ä½ çš„æ‘˜è¦ä¸ä¼šåŒ…å«ä»–éœ€è¦çš„æ‰€æœ‰ä¿¡æ¯ï¼Œå› ä¸ºä½ æ²¡æœ‰ä»–é‚£ç§éšå«çš„ä¸Šä¸‹æ–‡ã€‚â€
>


æ‰€ä»¥ç›®å‰æ›´å¥½ä½¿ç”¨å­ä»£ç†çš„æ–¹å¼æœ‰ä¸¤ç§**ï¼šå¾ªç¯éªŒè¯è°ƒç”¨æ¨¡å¼å’Œé¡ºåºæ‰§è¡Œçš„ç¼–æ’å™¨**

### 3.1ã€å¾ªç¯éªŒè¯è°ƒç”¨


![å¾ªç¯è°ƒç”¨](./image/image%20(69).png)


å¾ªç¯éªŒè¯è°ƒç”¨çš„æµç¨‹ï¼š

1. ä¸»æ™ºèƒ½ä½“è¯„ä¼°å­æ™ºèƒ½ä½“çš„ç»“æœ
2. å½“ç»“æœä¸åˆæ ¼çš„è¯ï¼Œä¸»æ™ºèƒ½ä½“æ ¹æ®è¯„ä¼°ç»“æœæå‡ºæ–°çš„æ£€ç´¢ä»»åŠ¡
3. å­æ™ºèƒ½ä½“æŒ‰ç…§æ–°çš„æ£€ç´¢ä»»åŠ¡ç»§ç»­æ£€ç´¢
4. å¾ªç¯æœ€å¤š 3 è½®

**åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œä¸»æ™ºèƒ½ä½“æ´¾å‘ç»™å­æ™ºèƒ½ä½“çš„ä»»åŠ¡è¦â€œå…·ä½“çš„é—®é¢˜+æ›´å¹¿æ³›çš„ç›®æ ‡â€ï¼Œè®©æ•´ä½“çš„æ£€ç´¢é¢ç§¯æ›´å¤§ï¼Œèƒ½æ£€ç´¢åˆ°æ›´å¤šçš„ç»“æœ**


ğŸŒ´ è¯¥æ¨¡å¼ä¸‹ä½¿ç”¨åˆ°çš„æ–‡ä»¶ Command å’Œ Skill ä¸ºï¼š

+ **skills/iterative-retrieval**

### 3.2ã€ç¼–æ’æ™ºèƒ½ä½“

![ç¼–æ’æ™ºèƒ½ä½“](./image/image%20(70).png)


ç¼–æ’æ™ºèƒ½ä½“çš„åŸåˆ™æ˜¯ï¼š

1. æ¯ä¸ªä»£ç†æ¥æ”¶ä¸€ä¸ªæ˜ç¡®çš„è¾“å…¥ã€å¹¶ç”Ÿæˆä¸€ä¸ªæ˜ç¡®çš„è¾“å‡º
2. è¾“å‡ºæˆä¸ºä¸‹ä¸€é˜¶æ®µçš„è¾“å…¥
3. åˆ‡å‹¿è·³è¿‡ä»»ä½•é˜¶æ®µ - æ¯ä¸ªé˜¶æ®µéƒ½è•´å«ä»·å€¼
4. åœ¨æ™ºèƒ½ä½“ä¹‹é—´ä½¿ç”¨/clearå‘½ä»¤ä»¥ä¿æŒä¸Šä¸‹æ–‡çš„æ–°é²œåº¦
5. å°†ä¸­é—´è¾“å‡ºå­˜å‚¨åœ¨æ–‡ä»¶ä¸­ï¼ˆè€Œéä»…å­˜åœ¨å†…å­˜ä¸­ï¼‰


é™¤äº†å›ºå®šçš„å››ç§åŠŸèƒ½ç¼–æ’å¥½çš„å­æ™ºèƒ½ä½“è°ƒç”¨æµç¨‹ï¼Œè¿˜å¯ä»¥è‡ªå®šä¹‰å­æ™ºèƒ½ä½“çš„è°ƒç”¨é¡ºåº

```shell
/orchestrate custom "architect,tdd-guide,code-reviewer" "Redesign caching layer"
```


ğŸŒ´ è¯¥æ¨¡å¼ä¸‹ä½¿ç”¨åˆ°çš„æ–‡ä»¶ Command å’Œ Skill ä¸ºï¼š

+ commands/orchestrate.md
+ agents/architect.md
+ agents/code-reviewer.md
+ agents/planner.md
+ agents/security-reviewer.md
+ agents/tdd-guide.md


## å››ã€æ–‡ç« é…ç½®è¯¦è§£
::: details ç‚¹å‡»å±•å¼€å®Œæ•´ä»£ç  - é…ç½®è¯¦è§£
```plain
everything-claude-code/
|-- .claude-plugin/         # æ’ä»¶å’Œå¸‚åœºæ¸…å•
|   |-- plugin.json         # æ’ä»¶å…ƒæ•°æ®å’Œç»„ä»¶è·¯å¾„
|   |-- marketplace.json    # /plugin marketplace add çš„å¸‚åœºç›®å½•
|
|-- agents/           # å­æ™ºèƒ½ä½“æ–‡ä»¶å¤¹
|   |-- planner.md           		 # åŠŸèƒ½å®ç°è§„åˆ’
|   |-- architect.md         		 # ç³»ç»Ÿè®¾è®¡å†³ç­–
|   |-- tdd-guide.md         		 # æµ‹è¯•é©±åŠ¨å¼€å‘
|   |-- code-reviewer.md     		 # è´¨é‡å’Œå®‰å…¨å®¡æŸ¥
|   |-- security-reviewer.md     # æ¼æ´åˆ†æ
|   |-- build-error-resolver.md  # æ„å»ºé”™è¯¯è§£å†³
|   |-- e2e-runner.md        		 # Playwright E2E æµ‹è¯•
|   |-- refactor-cleaner.md  		 # æ­»ä»£ç æ¸…ç†
|   |-- doc-updater.md       	 	 # æ–‡æ¡£åŒæ­¥
|   |-- go-reviewer.md       		 # Go ä»£ç å®¡æŸ¥ï¼ˆæ–°å¢ï¼‰
|   |-- go-build-resolver.md 		 # Go æ„å»ºé”™è¯¯è§£å†³ï¼ˆæ–°å¢ï¼‰
|
|-- skills/           # æŠ€èƒ½
|   |-- coding-standards/           # ç¼–ç¨‹è¯­è¨€æœ€ä½³å®è·µ
|   |-- backend-patterns/           # APIã€æ•°æ®åº“ã€ç¼“å­˜æ¨¡å¼
|   |-- frontend-patterns/          # Reactã€Next.js æ¨¡å¼
|   |-- continuous-learning/        # ä»ä¼šè¯ä¸­è‡ªåŠ¨æå–æ¨¡å¼ï¼ˆé•¿ç¯‡æŒ‡å—ï¼‰
|   |-- continuous-learning-v2/     # åŸºäºç›´è§‰çš„å­¦ä¹ ï¼Œå¸¦ç½®ä¿¡åº¦è¯„åˆ†
|   |-- iterative-retrieval/        # å­æ™ºèƒ½ä½“çš„æ¸è¿›å¼ä¸Šä¸‹æ–‡ä¼˜åŒ–
|   |-- strategic-compact/          # æ‰‹åŠ¨å‹ç¼©å»ºè®®ï¼ˆé•¿ç¯‡æŒ‡å—ï¼‰
|   |-- tdd-workflow/               # TDD æ–¹æ³•è®º
|   |-- security-review/            # å®‰å…¨æ£€æŸ¥æ¸…å•
|   |-- eval-harness/               # éªŒè¯å¾ªç¯è¯„ä¼°ï¼ˆé•¿ç¯‡æŒ‡å—ï¼‰
|   |-- verification-loop/          # æŒç»­éªŒè¯ï¼ˆé•¿ç¯‡æŒ‡å—ï¼‰
|   |-- golang-patterns/            # Go è¯­è¨€ä¹ æƒ¯ç”¨æ³•å’Œæœ€ä½³å®è·µï¼ˆæ–°å¢ï¼‰
|   |-- golang-testing/             # Go æµ‹è¯•æ¨¡å¼ã€TDDã€åŸºå‡†æµ‹è¯•ï¼ˆæ–°å¢ï¼‰
|
|-- commands/         # å‘½ä»¤
|   |-- tdd.md              # /tdd - æµ‹è¯•é©±åŠ¨å¼€å‘
|   |-- plan.md             # /plan - å®ç°è§„åˆ’
|   |-- e2e.md              # /e2e - E2E æµ‹è¯•ç”Ÿæˆ
|   |-- code-review.md      # /code-review - è´¨é‡å®¡æŸ¥
|   |-- build-fix.md        # /build-fix - ä¿®å¤æ„å»ºé”™è¯¯
|   |-- refactor-clean.md   # /refactor-clean - æ­»ä»£ç ç§»é™¤
|   |-- learn.md            # /learn - ä¼šè¯ä¸­æå–æ¨¡å¼ï¼ˆé•¿ç¯‡æŒ‡å—ï¼‰
|   |-- checkpoint.md       # /checkpoint - ä¿å­˜éªŒè¯çŠ¶æ€ï¼ˆé•¿ç¯‡æŒ‡å—ï¼‰
|   |-- verify.md           # /verify - è¿è¡ŒéªŒè¯å¾ªç¯ï¼ˆé•¿ç¯‡æŒ‡å—ï¼‰
|   |-- setup-pm.md         # /setup-pm - é…ç½®åŒ…ç®¡ç†å™¨
|   |-- go-review.md        # /go-review - Go ä»£ç å®¡æŸ¥ï¼ˆæ–°å¢ï¼‰
|   |-- go-test.md          # /go-test - Go TDD å·¥ä½œæµï¼ˆæ–°å¢ï¼‰
|   |-- go-build.md         # /go-build - ä¿®å¤ Go æ„å»ºé”™è¯¯ï¼ˆæ–°å¢ï¼‰
|   |-- skill-create.md     # /skill-create - ä» git å†å²ç”ŸæˆæŠ€èƒ½ï¼ˆæ–°å¢ï¼‰
|   |-- instinct-status.md  # /instinct-status - æŸ¥çœ‹å­¦ä¹ åˆ°çš„ç›´è§‰ï¼ˆæ–°å¢ï¼‰
|   |-- instinct-import.md  # /instinct-import - å¯¼å…¥ç›´è§‰ï¼ˆæ–°å¢ï¼‰
|   |-- instinct-export.md  # /instinct-export - å¯¼å‡ºç›´è§‰ï¼ˆæ–°å¢ï¼‰
|   |-- evolve.md           # /evolve - å°†ç›´è§‰èšç±»ä¸ºæŠ€èƒ½ï¼ˆæ–°å¢ï¼‰
|
|-- rules/            # å§‹ç»ˆéµå¾ªçš„æŒ‡å—ï¼ˆå¤åˆ¶åˆ° ~/.claude/rules/ï¼‰
|   |-- security.md         # å¼ºåˆ¶æ€§å®‰å…¨æ£€æŸ¥
|   |-- coding-style.md     # ä¸å¯å˜æ€§ã€æ–‡ä»¶ç»„ç»‡
|   |-- testing.md          # TDDã€80% è¦†ç›–ç‡è¦æ±‚
|   |-- git-workflow.md     # æäº¤æ ¼å¼ã€PR æµç¨‹
|   |-- agents.md           # ä½•æ—¶å§”æ‰˜ç»™å­æ™ºèƒ½ä½“
|   |-- performance.md      # æ¨¡å‹é€‰æ‹©ã€ä¸Šä¸‹æ–‡ç®¡ç†
|
|-- hooks/            # åŸºäºè§¦å‘å™¨çš„è‡ªåŠ¨åŒ–
|   |-- hooks.json                # æ‰€æœ‰é’©å­é…ç½®ï¼ˆPreToolUseã€PostToolUseã€Stop ç­‰ï¼‰
|   |-- memory-persistence/       # ä¼šè¯ç”Ÿå‘½å‘¨æœŸé’©å­ï¼ˆé•¿ç¯‡æŒ‡å—ï¼‰
|   |-- strategic-compact/        # å‹ç¼©å»ºè®®ï¼ˆé•¿ç¯‡æŒ‡å—ï¼‰
|
|-- scripts/          # è·¨å¹³å° Node.js è„šæœ¬ï¼ˆæ–°å¢ï¼‰
|   |-- lib/                     # å…±äº«å·¥å…·
|   |   |-- utils.js             # è·¨å¹³å°æ–‡ä»¶/è·¯å¾„/ç³»ç»Ÿå·¥å…·
|   |   |-- package-manager.js   # åŒ…ç®¡ç†å™¨æ£€æµ‹å’Œé€‰æ‹©
|   |-- hooks/                   # é’©å­å®ç°
|   |   |-- session-start.js     # ä¼šè¯å¼€å§‹æ—¶åŠ è½½ä¸Šä¸‹æ–‡
|   |   |-- session-end.js       # ä¼šè¯ç»“æŸæ—¶ä¿å­˜çŠ¶æ€
|   |   |-- pre-compact.js       # å‹ç¼©å‰çŠ¶æ€ä¿å­˜
|   |   |-- suggest-compact.js   # æˆ˜ç•¥æ€§å‹ç¼©å»ºè®®
|   |   |-- evaluate-session.js  # ä»ä¼šè¯ä¸­æå–æ¨¡å¼
|   |-- setup-package-manager.js # äº¤äº’å¼åŒ…ç®¡ç†å™¨è®¾ç½®
|
|-- tests/            # æµ‹è¯•å¥—ä»¶ï¼ˆæ–°å¢ï¼‰
|   |-- lib/                     # åº“æµ‹è¯•
|   |-- hooks/                   # é’©å­æµ‹è¯•
|   |-- run-all.js               # è¿è¡Œæ‰€æœ‰æµ‹è¯•
|
|-- contexts/         # åŠ¨æ€ç³»ç»Ÿæç¤ºæ³¨å…¥ä¸Šä¸‹æ–‡ï¼ˆé•¿ç¯‡æŒ‡å—ï¼‰
|   |-- dev.md              # å¼€å‘æ¨¡å¼ä¸Šä¸‹æ–‡
|   |-- review.md           # ä»£ç å®¡æŸ¥æ¨¡å¼ä¸Šä¸‹æ–‡
|   |-- research.md         # ç ”ç©¶/æ¢ç´¢æ¨¡å¼ä¸Šä¸‹æ–‡
|
|-- examples/         # ç¤ºä¾‹é…ç½®å’Œä¼šè¯
|   |-- CLAUDE.md           # é¡¹ç›®çº§é…ç½®ç¤ºä¾‹
|   |-- user-CLAUDE.md      # ç”¨æˆ·çº§é…ç½®ç¤ºä¾‹
|
|-- mcp-configs/      # MCP æœåŠ¡å™¨é…ç½®
|   |-- mcp-servers.json    # GitHubã€Supabaseã€Vercelã€Railway ç­‰
|
|-- marketplace.json  # è‡ªæ‰˜ç®¡å¸‚åœºé…ç½®ï¼ˆç”¨äº /plugin marketplace addï¼‰
```
:::


ğŸŒ´æŒ‰ç…§æ ¸å¿ƒåŠŸèƒ½æ‹†åˆ†ä½¿ç”¨çš„è¯ï¼š

1. è·¨ä¼šè¯å…±äº«å†…å­˜
    -  scripts/hooks/session-start.jsï¼šä¼šè¯å¼€å§‹é’©å­	
    -  scripts/hooks/pre-compact.jsï¼šä¼šè¯å‹ç¼©é’©å­
    -  scripts/hooks/session-end.jsï¼šä¼šè¯å®Œæˆé’©å­
2. æŒç»­å­¦ä¹ å¹¶æ›´æ–°è®°å¿†ï¼š
    -  commands/learn.md
    -  skills/continuous-learning
3. æé«˜é¡¹ç›®çš„å¯ç»´æŠ¤æ€§ï¼š
    -  commands/checkpoint.md
    -  commands/verify.md
    -  skills/verification-loop
    -  commands/refactor-clean.md
    -  agents/refactor-cleaner.md
    -  agents/doc-updater.md
    -  commands/update-codemaps.md
    -  commands/update-docs.md
4. å­æ™ºèƒ½ä½“ä½¿ç”¨æ–¹å¼ï¼š
    -  skills/iterative-retrieval
    -  commands/orchestrate.md
    -  agents/architect.md
    -  agents/code-reviewer.md
    -  agents/planner.md
    -  agents/security-reviewer.md
    -  agents/tdd-guide.md